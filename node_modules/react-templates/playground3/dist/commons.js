!function(e){function t(n){if(a[n])return a[n].exports;var r=a[n]={exports:{},id:n,loaded:!1};return e[n].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n=window.webpackJsonp;window.webpackJsonp=function(i,o){for(var s,l,c=0,d=[];c<i.length;c++)l=i[c],r[l]&&d.push.apply(d,r[l]),r[l]=0;for(s in o)e[s]=o[s];for(n&&n(i,o);d.length;)d.shift().call(null,t);return o[0]?(a[0]=0,t(0)):void 0};var a={},r={2:0};t.e=function(e,n){if(0===r[e])return n.call(null,t);if(void 0!==r[e])r[e].push(n);else{r[e]=[n];var a=document.getElementsByTagName("head")[0],i=document.createElement("script");i.type="text/javascript",i.charset="utf-8",i.async=!0,i.src=t.p+""+e+"."+({0:"fiddle",1:"home"}[e]||e)+".js",a.appendChild(i)}},t.m=e,t.c=a,t.p="/static/"}([,,function(e,t){e.exports=_},function(e,t){e.exports=React},,,function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;try{(function(){"use strict";__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(3),__webpack_require__(7),__webpack_require__(2),__webpack_require__(8),__webpack_require__(12)],__WEBPACK_AMD_DEFINE_RESULT__=function(React,$,_,pgFiddleTemplate,playgroundTemplate){function showMessage(e,t){e&&e.showMessage&&e.annotate({line:1,message:t})}function clearMessage(e){e&&e.clearAnnotations&&e.clearAnnotations()}function generateRenderFunc(e){return function(){var t=null;try{t=e.apply(this)}catch(n){t=React.DOM.div.apply(this,[{style:{color:"red"}},"Exception:"+n.message])}return React.DOM.div.apply(this,_.flatten([{key:"result"},t]))}}var templateHTML="<div></div>",templateProps=["var template = React.createClass({","   render: templateRT","});"].join("\n"),Playground=React.createClass({displayName:"Playground",mixins:[React.addons.LinkedStateMixin],propTypes:{codeVisible:React.PropTypes.bool,direction:React.PropTypes.oneOf(["horizontal","vertical"]),fiddle:React.PropTypes.bool,name:React.PropTypes.string,templateHTML:React.PropTypes.string,templateProps:React.PropTypes.string},templateSource:"",validHTML:!0,validProps:!0,setTimeout:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){clearTimeout(this.timeoutID),this.timeoutID=setTimeout.apply(null,arguments)}),getDefaultProps:function(){return{direction:"horizontal",codeVisible:!0,fiddle:!1}},getLayoutClass:function(){return"horizontal"===this.props.direction&&"horizontal"||"vertical"},getTabs:function(){return this.props.codeVisible?[["templateHTML","Template"],["templateProps","Class"],["templateSource","Generated code"]]:[["templateHTML","Template"],["templateSource","Generated code"]]},updateSample:function updateSample(state){this.generateCode(state),this.validHTML=!0,this.sampleRender=generateRenderFunc(this.sampleFunc);var editor;try{this.validProps=!0,this.sample=eval("(function () {"+this.templateSource+"\n"+state.templateProps+"\n return React.createElement("+state.name+");})()"),clearMessage(this.refs.editorCode)}catch(e){this.validProps=!1,this.sample=null,editor=this.refs.editorCode,this.showError(e,editor)}},showError:function(e,t){var n=this.refs.mount.getDOMNode();this.setTimeout(function(){showMessage(t,e.message),React.render(React.createElement("div",{className:"playground-error"},e.toString()),n)},500)},showErrorAnnotation:function(e,t){var n=this.refs.mount.getDOMNode();this.setTimeout(function(){t.annotate(e),React.render(React.createElement("div",{className:"playground-error"},e.message),n)},500)},clear:function(){var e={templateHTML:templateHTML,templateProps:templateProps};this.setState(e)},generateCode:function(e){var t=e.templateHTML,n=this.refs.editorRT,a=window.reactTemplates.normalizeName(e.name)+"RT",r=null,i=null;try{r=window.reactTemplates.convertTemplateToReact(t.trim().replace(/\r/g,""),{modules:"none",name:a}),clearMessage(n)}catch(o){i="RTCodeError"===o.name?{line:o.line,message:o.message,index:o.index}:{line:1,message:o.message},this.showErrorAnnotation(i,n),console.log(o)}this.templateSource=r},getInitialState:function(){return{templateHTML:this.props.templateHTML||templateHTML,templateProps:this.props.templateProps||templateProps,name:this.props.name||"template",currentTab:"templateHTML"}},componentDidMount:function(){this.props.fiddle&&(window.addEventListener("resize",this.calcSize),this.calcSize()),this.updateSample(this.state),this.renderSample()},renderSample:function(){var e=this.refs.mount.getDOMNode();this.sample&&React.render(this.sample,e)},componentDidUpdate:function(){this.renderSample()},componentWillUnmount:function(){window.removeEventListener("resize",this.calcSize)},calcSize:function(){var e=$(window).height()-$("#header").height(),t=e/2-10;$(".code-area").each(function(){$(this).height(t)}),this.refs.editorCode.editor.refresh(),this.refs.editorRT.editor.refresh(),this.refs.editorGenerated.editor.refresh()},componentWillUpdate:function(e,t){(t.templateHTML!==this.state.templateHTML||t.templateProps!==this.state.templateProps)&&this.updateSample(t)},render:function(){this.generateCode(this.state);var e=this.props.fiddle?pgFiddleTemplate:playgroundTemplate;return e.apply(this)}});return Playground}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}).call(this)}finally{}},function(e,t){e.exports=jQuery},function(e,t,n){var a,r;try{(function(){a=[n(3),n(2),n(9)],r=function(e,t,n){"use strict";function a(e){this.setState({templateHTML:e.target.value})}function r(e){this.setState({templateProps:e.target.value})}function i(e){e.preventDefault()}return function(){return e.createElement("div",{className:"playground"},e.createElement("div",{className:"fiddle-row"},e.createElement("div",{className:"code-area",id:"area-rt"},e.createElement(n,{ref:"editorRT",id:"editor-rt",className:"large-text-area",value:this.state.templateHTML,mode:"html",onChange:a.bind(this)})),e.createElement("div",{className:"code-area",id:"area-code"},e.createElement(n,{ref:"editorCode",id:"editor-code",className:"large-text-area",value:this.state.templateProps,mode:"javascript",onChange:r.bind(this)}))),e.createElement("div",{className:"fiddle-row"},e.createElement("div",{className:"code-area",id:"area-generated"},e.createElement(n,{id:"editor-generated",className:"large-text-area",ref:"editorGenerated",value:this.templateSource,mode:"javascript",readOnly:!0})),e.createElement("div",{className:"code-area",id:"area-result"},e.createElement("div",{id:"result-area",key:"result-area",className:"sample-view"},e.createElement("form",{className:"result-area-form",ref:"mount",onSubmit:i.bind(this)})))))}}.apply(t,a),!(void 0!==r&&(e.exports=r))}).call(this)}finally{}},function(e,t,n){var a,r;try{(function(){"use strict";a=[n(3),n(2),n(7),n(10),n(11)],r=function(e,t,n,a,r){function i(e,t){return(!t||t())&&setTimeout(function(){e.state.completionActive||e.showHint({completeSingle:!1})},100),a.Pass}function o(e){return i(e,function(){var t=e.getCursor();return"<"===e.getRange(a.Pos(t.line,t.ch-1),t)})}function s(e){return i(e,function(){var t=e.getTokenAt(e.getCursor());if("string"===t.type&&(!/['"]/.test(t.string.charAt(t.string.length-1))||1===t.string.length))return!1;var n=a.innerMode(e.getMode(),t.state).state;return n.tagName})}var l={div:{attrs:{"rt-props":null,"rt-if":null,"rt-repeat":null,"rt-class":null,"rt-scope":null,valueLink:null,key:null,ref:null,dangerouslySetInnerHTML:null}}},c=a.htmlSchema;return Object.keys(a.htmlSchema).forEach(function(e){c[e].attrs=t.defaults(l.div.attrs,c[e].attrs)}),e.createClass({displayName:"CodeMirrorEditor",propTypes:{id:e.PropTypes.string,readOnly:e.PropTypes.bool,runMode:e.PropTypes.bool,mode:e.PropTypes.string,value:e.PropTypes.string,valueLink:e.PropTypes.string,onChange:e.PropTypes.func},getDefaultProps:function(){return{readOnly:!1,mode:"html"}},getInitialState:function(){return{editorId:t.uniqueId()}},render:function(){var n=t.omit(this.props,["ref","key","value","valueLink","onChange"]);return n.id=this.props.id||this.state.editorId,n.defaultValue=this.props.valueLink?this.props.valueLink():this.props.value,e.DOM.textarea(n)},componentWillUpdate:function(e){var t=e.valueLink?e.valueLink():e.value;this.editor&&this.editor.getValue()!==t&&this.editor.setValue(t||"")},componentDidMount:function(){var e=this.props.valueLink?this.props.valueLink():this.props.value,t={readOnly:this.props.readOnly,lineWrapping:!0,smartIndent:!0,matchBrackets:!0,value:e,lineNumbers:!0,mode:"javascript",gutters:["CodeMirror-linenumbers","rt-annotations"],theme:"solarized"};"html"===this.props.mode?(t.mode="text/html",t.extraKeys={"'<'":i,"'/'":o,"' '":s,"'='":s,"Ctrl-Space":"autocomplete"},t.hintOptions={schemaInfo:c}):t.mode="javascript",this.editor=a.fromTextArea(this.getDOMNode(),t),this.props.readOnly||this.editor.on("change",function(){this.props.valueLink?this.props.valueLink(this.editor.getValue()):this.props.onChange&&this.props.onChange({target:{value:this.editor.getValue()}})}.bind(this))},annotate:function(e){r.annotate(this.editor,e)},clearAnnotations:function(){r.clearMarks(this.editor)},componentWillUnmount:function(){this.editor.toTextArea()}})}.apply(t,a),!(void 0!==r&&(e.exports=r))}).call(this)}finally{}},function(e,t){e.exports=CodeMirror},function(e,t,n){var a,r;try{(function(){"use strict";a=[n(3),n(2),n(7),n(10)],r=function(e,t,n,a){function r(e){var t=e.severity;t||(t="error");var n=document.createElement("div");return n.className="CodeMirror-lint-message-"+t,n.appendChild(document.createTextNode(e.message)),n}function i(e,t){var n=document.createDocumentFragment(),a={severity:"error",message:t.message};n.appendChild(r(a)),e.setGutterMarker(Math.max(t.line,0),u,s(n,"error",!1,"state.options.tooltips"))}function o(e){e.clearGutter(u)}function s(e,t,n,r){var i=document.createElement("div"),o=i;return i.className="CodeMirror-lint-marker-"+t,n&&(o=i.appendChild(document.createElement("div")),o.className="CodeMirror-lint-marker-multiple"),r!==!1&&a.on(o,"mouseover",function(t){p(t,e,o)}),i}function l(e,t){function n(e){return r.parentNode?(r.style.top=Math.max(0,e.clientY-r.offsetHeight-5)+"px",void(r.style.left=e.clientX+5+"px")):a.off(document,"mousemove",n)}var r=document.createElement("div");return r.className="CodeMirror-lint-tooltip",r.appendChild(t.cloneNode(!0)),document.body.appendChild(r),a.on(document,"mousemove",n),n(e),null!==r.style.opacity&&(r.style.opacity=1),r}function c(e){e.parentNode&&e.parentNode.removeChild(e)}function d(e){e.parentNode&&(null===e.style.opacity&&c(e),e.style.opacity=0,setTimeout(function(){c(e)},600))}function p(e,t,n){function r(){a.off(n,"mouseout",r),i&&(d(i),i=null)}var i=l(e,t),o=setInterval(function(){if(i)for(var e=n;;e=e.parentNode){if(e===document.body)return void 0;if(!e){r();break}}return i?void 0:clearInterval(o)},400);a.on(n,"mouseout",r)}var u="rt-annotations";return{GUTTER_ID:u,annotate:i,clearMarks:o}}.apply(t,a),!(void 0!==r&&(e.exports=r))}).call(this)}finally{}},function(e,t,n){var a,r;try{(function(){a=[n(3),n(2),n(9)],r=function(e,t,n){"use strict";function a(e,t,n){n.preventDefault(),this.setState({currentTab:e[0]})}function r(n,r){return e.createElement("li",{role:"presentation",key:"tab"+r,className:t.keys(t.pick({active:this.state.currentTab===n[0]},t.identity)).join(" "),onClick:a.bind(this,n,r)},e.createElement("a",{"aria-controls":n[1]},n[1]))}function i(e){this.setState({templateHTML:e.target.value})}function o(e){this.setState({templateProps:e.target.value})}function s(e){e.preventDefault()}return function(){return e.createElement("div",{className:"playground"},e.createElement("div",{id:this.props.id+"-myTab",className:"code-area "+this.getLayoutClass()},e.createElement.apply(this,["ul",{className:"nav nav-tabs",role:"tablist"},t.map(this.getTabs(),r.bind(this))]),e.createElement("div",{},"templateHTML"===this.state.currentTab?e.createElement("div",{key:"editorRT",className:"tab-pane active"},e.createElement(n,{ref:"editorRT",className:"large-text-area",style:{border:this.validHTML?"":"2px solid red"},value:this.state.templateHTML,mode:"html",onChange:i.bind(this)})):null,"templateProps"===this.state.currentTab?e.createElement("div",{key:"editorCode",className:"tab-pane active"},e.createElement(n,{ref:"editorCode",className:"large-text-area",style:{border:this.validProps?"":"2px solid red"},value:this.state.templateProps,mode:"javascript",onChange:o.bind(this)})):null,"templateSource"===this.state.currentTab?e.createElement("div",{key:"templateSource",className:"tab-pane active"},e.createElement(n,{className:"large-text-area",value:this.templateSource,mode:"javascript",readOnly:!0})):null)),e.createElement("div",{key:"result-area",className:"result-area "+this.getLayoutClass()},e.createElement("span",{className:"preview-title"}," "),e.createElement("form",{ref:"mount",className:"sample-view",onSubmit:s.bind(this)})),e.createElement("br",{style:{clear:"both"}}))}}.apply(t,a),!(void 0!==r&&(e.exports=r))}).call(this)}finally{}}]);
//# sourceMappingURL=commons.js.map